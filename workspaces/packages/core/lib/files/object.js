"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ObjectFile = void 0;
const file_1 = require("./file");
class ObjectFile extends file_1.File {
    constructor(parent, props) {
        super(parent, props);
        this.object = props.object;
    }
    async synthesize() {
        await super.synthesize();
        const object = typeof this.object === 'object' ? this.object : this.object();
        const buffer = this.generateContent(object);
        return this.fileSystem.createFile(this.path, buffer);
    }
}
exports.ObjectFile = ObjectFile;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2JqZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ZpbGVzL29iamVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxpQ0FBMkM7QUFRM0MsTUFBc0IsVUFBVyxTQUFRLFdBQUk7SUFJM0MsWUFBWSxNQUFpQixFQUFFLEtBQXdCO1FBQ3JELEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQzdCLENBQUM7SUFFRCxLQUFLLENBQUMsVUFBVTtRQUNkLE1BQU0sS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3pCLE1BQU0sTUFBTSxHQUFHLE9BQU8sSUFBSSxDQUFDLE1BQU0sS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU3RSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN2RCxDQUFDO0NBR0Y7QUFsQkQsZ0NBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgRmlsZSwgRmlsZU9wdGlvbnMgfSBmcm9tICcuL2ZpbGUnO1xuXG5leHBvcnQgdHlwZSBPYmplY3RGaWxlQ29udGVudCA9IGFueSB8ICgoKSA9PiBhbnkpO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdEZpbGVPcHRpb25zIGV4dGVuZHMgRmlsZU9wdGlvbnMge1xuICByZWFkb25seSBvYmplY3Q6IE9iamVjdEZpbGVDb250ZW50O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgT2JqZWN0RmlsZSBleHRlbmRzIEZpbGUge1xuXG4gIHByb3RlY3RlZCBvYmplY3Q6IE9iamVjdEZpbGVDb250ZW50O1xuXG4gIGNvbnN0cnVjdG9yKHBhcmVudDogQ29tcG9uZW50LCBwcm9wczogT2JqZWN0RmlsZU9wdGlvbnMpIHtcbiAgICBzdXBlcihwYXJlbnQsIHByb3BzKTtcbiAgICB0aGlzLm9iamVjdCA9IHByb3BzLm9iamVjdDtcbiAgfVxuXG4gIGFzeW5jIHN5bnRoZXNpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgc3VwZXIuc3ludGhlc2l6ZSgpO1xuICAgIGNvbnN0IG9iamVjdCA9IHR5cGVvZiB0aGlzLm9iamVjdCA9PT0gJ29iamVjdCcgPyB0aGlzLm9iamVjdCA6IHRoaXMub2JqZWN0KCk7XG5cbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLmdlbmVyYXRlQ29udGVudChvYmplY3QpO1xuICAgIHJldHVybiB0aGlzLmZpbGVTeXN0ZW0uY3JlYXRlRmlsZSh0aGlzLnBhdGgsIGJ1ZmZlcik7XG4gIH1cblxuICBhYnN0cmFjdCBnZW5lcmF0ZUNvbnRlbnQob2JqZWN0OiBhbnkpIDogQnVmZmVyO1xufSJdfQ==